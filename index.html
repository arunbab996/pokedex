<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Pokédex</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Tailwind via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="./pokedex.css" />
</head>
<body class="min-h-screen flex flex-col bg-slate-100 text-slate-900">
  <!-- MAIN CONTENT -->
  <div class="flex-1">
    <div class="max-w-5xl mx-auto px-4 sm:px-6 py-6">
      <!-- Header -->
      <header class="flex flex-col sm:flex-row items-center justify-between gap-4 mb-6">
        <div class="flex items-center gap-3">
          <!-- Pokéball icon -->
          <svg
            width="52"
            height="52"
            viewBox="0 0 100 100"
            xmlns="http://www.w3.org/2000/svg"
            class="drop-shadow"
          >
            <circle cx="50" cy="50" r="48" fill="#ffffff" stroke="#000000" stroke-width="4" />
            <defs>
              <clipPath id="pokeClipBasic">
                <circle cx="50" cy="50" r="46" />
              </clipPath>
            </defs>
            <g clip-path="url(#pokeClipBasic)">
              <rect x="4" y="4" width="92" height="46" fill="#ff0000" />
              <rect x="4" y="50" width="92" height="46" fill="#ffffff" />
              <rect x="4" y="46" width="92" height="8" fill="#000000" />
            </g>
            <circle cx="50" cy="50" r="14" fill="#ffffff" stroke="#000000" stroke-width="4" />
            <circle cx="50" cy="50" r="6" fill="#000000" />
          </svg>

          <div>
            <h1 class="text-3xl sm:text-4xl font-extrabold tracking-tight text-rose-600">
              Pokédex
            </h1>
            <p class="text-sm text-slate-600">
              Search, discover, and browse Pokémon by region. Powered by PokéAPI.
            </p>
          </div>
        </div>

        <div class="text-xs sm:text-sm text-slate-600 bg-white px-3 py-2 rounded-xl shadow">
          <p><span class="font-semibold">Tips:</span> Type a name (“pikachu”) or ID (25), or hit Random.</p>
          <p>Click evolution icons or tiles in the grid to jump between Pokémon.</p>
        </div>
      </header>

      <!-- Controls -->
      <section class="bg-white rounded-3xl shadow border border-slate-200 px-4 sm:px-6 py-4 mb-5">
        <div class="flex flex-col gap-3 sm:flex-row sm:items-center">
          <form id="searchForm" class="flex-1">
            <div class="flex gap-3 items-center">
              <div class="relative flex-1">
                <input
                  id="searchInput"
                  type="text"
                  placeholder="Search by name (charizard) or ID (6)…"
                  class="w-full px-4 py-3 rounded-2xl border-2 border-slate-200 focus:outline-none focus:border-rose-400 shadow-sm bg-white text-sm sm:text-base"
                />
                <!-- Suggestions -->
                <ul
                  id="suggestionsList"
                  class="hidden absolute left-0 right-0 mt-1 bg-white rounded-2xl border border-slate-200 shadow-lg max-h-56 overflow-auto text-xs sm:text-sm z-30"
                ></ul>
              </div>

              <button
                id="searchBtn"
                type="submit"
                class="px-4 py-2 rounded-2xl bg-rose-500 text-white text-sm sm:text-base font-semibold hover:bg-rose-600 transition-colors shadow-sm"
              >
                Search
              </button>
            </div>
          </form>

          <div class="flex flex-wrap gap-2 sm:justify-end">
            <select
              id="regionSelect"
              class="px-3 py-2 rounded-2xl border-2 border-slate-200 bg-white shadow-sm text-xs sm:text-sm"
            >
              <option value="all">All regions</option>
              <option value="kanto">Kanto (1–151)</option>
              <option value="johto">Johto (152–251)</option>
              <option value="hoenn">Hoenn (252–386)</option>
              <option value="sinnoh">Sinnoh (387–493)</option>
              <option value="unova">Unova (494–649)</option>
              <option value="kalos">Kalos (650–721)</option>
              <option value="alola">Alola (722–809)</option>
              <option value="galar">Galar (810–898)</option>
              <option value="paldea">Paldea (899–1010)</option>
            </select>

            <button
              id="showAllBtn"
              type="button"
              class="px-3 py-2 rounded-2xl bg-amber-400 text-white text-xs sm:text-sm font-semibold shadow-sm"
            >
              Show all
            </button>

            <button
              id="randomBtn"
              type="button"
              class="px-3 py-2 rounded-2xl bg-sky-400 text-white text-xs sm:text-sm font-semibold shadow-sm"
            >
              Random
            </button>

            <button
              id="clearBtn"
              type="button"
              class="px-3 py-2 rounded-2xl border-2 border-slate-200 bg-white text-xs sm:text-sm hover:bg-slate-50"
            >
              Clear
            </button>
          </div>
        </div>

        <!-- Small status line -->
        <div class="mt-3 flex flex-wrap gap-3 text-[11px] text-slate-600">
          <span>
            Region:
            <span id="statusRegion" class="font-semibold">All regions</span>
          </span>
          <span>
            Mode:
            <span id="statusMode" class="font-semibold">IDLE</span>
          </span>
          <span>
            Entries:
            <span id="statusEntries" class="font-mono">0/0</span>
          </span>
        </div>
      </section>

      <!-- Error -->
      <div
        id="errorBox"
        class="hidden mb-4 p-3 rounded-2xl border-2 border-red-200 bg-red-50 text-red-700 text-sm"
      ></div>

      <!-- Main Pokémon view -->
      <section
        id="mainSection"
        class="bg-white rounded-3xl shadow border border-slate-200 px-4 sm:px-6 py-5 mb-6"
      >
        <div
          id="mainCard"
          class="min-h-[220px] flex items-center justify-center text-center text-slate-700 text-sm sm:text-base"
        >
          <div>
            <p class="font-semibold mb-1">Welcome to your Pokédex.</p>
            <p class="text-xs sm:text-sm max-w-sm mx-auto text-slate-600">
              Start typing a Pokémon name or ID above, or press <span class="font-semibold">Random</span>.
              You can also choose a region and hit <span class="font-semibold">Show all</span> to browse cards.
            </p>
          </div>
        </div>
      </section>

      <!-- Region grid -->
      <section
        id="gridSection"
        class="hidden bg-white rounded-3xl shadow border border-slate-200 px-4 sm:px-6 py-4 mb-8"
      >
        <h2 class="text-sm sm:text-base font-semibold text-slate-800 mb-3">
          Pokémon in this region
        </h2>
        <div id="gridContainer" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"></div>

        <div class="mt-4 text-center">
          <button
            id="loadMoreBtn"
            type="button"
            class="hidden px-4 py-2 rounded-2xl bg-sky-500 text-white text-xs sm:text-sm font-semibold shadow-sm"
          >
            Load more
          </button>
        </div>
      </section>
    </div>
  </div>

  <!-- FOOTER STICKS TO BOTTOM -->
  <footer class="py-3 text-[11px] text-slate-500 text-center border-t border-slate-200 bg-slate-50">
    Data from
    <a href="https://pokeapi.co" target="_blank" rel="noreferrer" class="underline">
      PokéAPI
    </a>.
    Built as a fun Pokédex web app.
  </footer>

  <script src="./pokedex.js"></script>
</body>
</html>
